<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey </title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>
    <div class='container'>
        <div class='jumbotron'>
            <h1 class='text-center'>
                <!--Header with Font Awesome Logos-->
                <i class='fa fa-heartbeat'></i> Friend Finder App
                <i class="fa fa-heartbeat"></i>
                <hr />
                <h2 id='jumbo_h2' i class='text-center'> Complete the survey below to find your new friend!</h2>
                <hr />
                <br>
                <div class='text-center'>
                    <a href='home.html'>
                        <button type='button' class='btn btn-lg btn-primary'>
                            <span class='fa fa-home'></span>
                        </button>
                    </a>
                </div>
            </h1>
        </div>
    </div>
    <div class='container'>
        <div class='jumbotron'>
            <div class='row'>
                <div class='col-lg-12'>
                    <div class='panel panel-default'>
                        <div class='panel-heading'>
                            <h3 class='panel-title'>
                                <b>Friend Finder Survey</b>
                            </h3>
                        </div>
                        <div class='panel-body'>
                            <form role='form'>
                                <h4>About You:</h4>

                                <!--  Top Jumbotron header-->
                                <h4>First Name:</h4>
                                <input type='text' name='' id='name' class='form-control' required>

                                <h4>Link to a photo of you</h4>
                                <input type='text' name='' id='name' class='form-control' required>

                                <hr />

                                <h4>
                                    <b>Survey Questions:</b>
                                </h4>
                                <hr />
                                <h3>You want a friend that is always willing to listen to your problems.</h3>
                                <!-- Questions-->
                                <select data-placeholder="" class="chosen-select" id="question1">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You prefer friends that are selfless and care about each others values.</h3>
                                <select data-placeholder="" class="chosen-select" id="question2">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You want a friendship that pushes you to grow physically, emotionally and spiritually</h3>
                                <select data-placeholder="" class="chosen-select" id="question3">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You want a friend that has a strong moral perspective.</h3>
                                <select data-placeholder="" class="chosen-select" id="question4">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You want a friend that is comfortable being dorky in public. </h3>
                                <select data-placeholder="" class="chosen-select" id="question5">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You want a friend that belives in you and helps build you up for success.</h3>
                                <select data-placeholder="" class="chosen-select" id="question6">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You like friends that are extroverted and outgoing.</h3>
                                <select data-placeholder="" class="chosen-select" id="question7">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You want a friend that loves nature and being outdoors.</h3>
                                <select data-placeholder="" class="chosen-select" id="question8">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You like it when a friend is okay with doing nothing and enjoys watching TV.</h3>
                                <select data-placeholder="" class="chosen-select" id="question9">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>

                                <h3>You value friendships that aren't afraid of disagreements and hold opposite viewpoints.</h3>
                                <select data-placeholder="" class="chosen-select" id="question10">
                                    <option value=""></option>
                                    <option selected="selected" value="1">1 (Strongly Disagree)</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (Strongly Agree)</option>
                                </select>
                                <br>
                                <br>
                                <button type="submit" id="submit" class="btn btn-primary">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal -->
    <div id="modal" class="modal" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">
                        <strong>Your best match:</strong>
                    </h2>
                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchPhoto" src="" alt="" height="350" width="300">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" id="closeModal" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class='footer'>
        <div class='container'>
            <p>
                <a href='/api/friends'>API Friends Page</a>
                <a href='https://github.com/AndrewABowden/Friend-Finder-Express-App' target="_blank"> GitHub Repository</a>
            </p>
        </div>
    </footer>

    <script src="https://use.fontawesome.com/0bf9ac1b8c.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <script>
        var modal = $("#modal");
        //capture form inputs
        $("#submit").on("click", function (event) {
            event.preventDefault();

                if (($('#name').val().trim() !== "") 
                //&& ($('#photo').val().trim() !== "")
                ) {
                    //create obj for user data
                    var userData = {
                        name: $("#name").val(),
                        photo: $("#photo").val(),
                        scores: [$("#question1").val(), $("#question2").val(), $("#question3").val(), $("#question4").val(), $("#question5").val(), $("#question6").val(), $("#question7").val(), $("#question8").val(), $("#question9").val(), $("#question10").val(),]
                    }
                    //AJAX posts data to friends API..
                    $.post("/api/friends", userData, function (data) {

                            //grab results from ajax and match based on name and photo
                            $("#matchName").text(data.name);
                            $('#matchPhoto').attr("src", data.photo);
                            //show modal with best match after survey submission
                            // $(".modal").modal('toggle');
                            //clear input in form
                            modal.modal('toggle');
                            // $("#name").val("");
                            // $("#photo").val("");
                        console.log(data);
                    });
                } else {
                    $(".modal-title").text("DO THE SURVEY.");
                    $(".modal-body").html("<h4> Please fill out the server before your browser explodes </h4>");
                     modal.modal('toggle');
                }
                return true;
            });
        // //Modal logic for getting function
        // $("#closeModal").click(function () {
        //     $.get('/', function (req, res) {
        //         location.replace(res);
        //     })

        // });
    </script>


</body>
</html>
<!--10. HTTP ___ requests supply data from the client to the server within the URL itself.
POST
GET
2. HTTP ___ requests supply data from the client to the server within the message body.
GET
POST
4. For a server running locally on port 3000, at what URL will the code below cause a console message? app.get('/route', function() { console.log('wow'); });  
http://localhost:3000/console
http://localhost:3000/route
13. A route is defined as /route/:word?. The parameter, word, in this case is ___.
required
optional
11. The ___ jQuery method can be used to load data from the server using a HTTP POST request.
$.load
$.post-->